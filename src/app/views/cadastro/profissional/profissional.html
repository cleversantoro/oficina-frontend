<app-page-title title="Profissionais" subTitle="Cadastro"/>

<div class="card shadow-sm">
  <div class="card-body p-0">
    <ng-container *ngIf="loading(); else content">
      <div class="py-5 text-center text-muted">Carregando profissionais...</div>
    </ng-container>

    <ng-template #content>
      <ng-container *ngIf="error(); else mecanicosTable">
        <div class="alert alert-danger m-3" role="alert">
          {{ error() }}
        </div>
      </ng-container>
    </ng-template>

    <ng-template #mecanicosTable>
      <ng-container *ngIf="mecanicos().length > 0; else emptyState">
        <div class="table-responsive">
          <table class="table table-hover align-middle mb-0">
            <thead class="table-light">
              <tr>
                <th scope="col">Nome</th>
                <th scope="col">Especialidade</th>
                <th scope="col">Identificador</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let mecanico of mecanicos(); trackBy: trackByMecanico">
                <td class="fw-semibold">{{ mecanico.nome || '—' }}</td>
                <td>{{ mecanico.especialidade || '—' }}</td>
                <td>{{ mecanico.id || '—' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </ng-container>
    </ng-template>

    <ng-template #emptyState>
      <div class="py-5 text-center text-muted">
        Nenhum profissional cadastrado no momento.
      </div>
    </ng-template>
  </div>
</div>
